<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" nonce="<?php echo $nonce; ?>"></script>
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" nonce="<?php echo $nonce; ?>">
    

    Berikut adalah usulan struktur dan alur kerja yang direvisi untuk proses payroll dan review agar dapat dibagi ke dalam beberapa halaman terpisah, sehingga:

SDM Memiliki Kontrol Penuh Terhadap Data Payroll dan Perubahan (Fungsi Assign & Input Data):

Halaman Assign & Update Payhead (SDM):
Halaman ini dikhususkan untuk SDM. Di sini SDM dapat:
Melakukan penetapan (assign) komponen payhead (misalnya, tunjangan, potongan) ke setiap karyawan/guru.
Mengubah nilai komponen yang berkaitan dengan perubahan status atau promosi (misalnya, dari tunjangan wali kelas 0 menjadi Rp 25.000).
Memilih periode (Select Month) untuk payroll dan menampilkan data penggajian sementara.
Fitur Tambahan:
Tersedia input keterangan dan unggahan (upload) dokumen pendukung (misalnya, surat promosi atau dokumen resmi perubahan status) yang menjadi bukti perubahan data perorangan.
Setelah melakukan penyesuaian, data payroll disimpan dalam status draft/revisi.
Keuangan Hanya Melakukan Review Akhir Berdasarkan Data yang Telah Diverifikasi SDM:

Halaman Review Payroll (Keuangan):
Halaman ini dikhususkan untuk role Keuangan. Pada halaman ini:
Ditampilkan data payroll untuk periode tertentu yang telah diinput oleh SDM, lengkap dengan nilai-nilai komponen seperti gaji pokok, tunjangan, potongan, dan nilai-nilai khusus (misalnya, tunjangan wali kelas).
Setiap perubahan yang menyebabkan perbedaan (misalnya, penambahan tunjangan wali kelas Rp 25.000) disertai dengan keterangan dan lampiran dokumen pendukung.
Keuangan dapat meninjau setiap perubahan dan memverifikasi apakah dokumen pendukung sudah lengkap dan sesuai.
Setelah review, Keuangan hanya memiliki opsi untuk acc (approve) atau tolak payroll tersebut.
Jika terdapat kekurangan atau ketidaksesuaian, Keuangan dapat menolak sehingga payroll kembali dalam status revisi dan SDM harus melakukan penyesuaian ulang.
Proses Final Payroll dan Penerapan Transaksi:

Halaman Finalisasi Payroll (Setelah Review):
Setelah Keuangan memberikan persetujuan, sistem akan menjalankan proses finalisasi payroll:
Data payroll yang telah disetujui di-insert ke tabel payroll dan payroll_detail menggunakan transaksi database agar proses tersebut atomik dan konsisten.
Payroll tersebut kemudian akan memiliki status final (atau status lain yang menandakan bahwa data tidak dapat diubah lagi tanpa melalui proses revisi resmi).
Penambahan Status Payroll:

Seluruh data payroll perlu memiliki status (misalnya, draft, revisi, final) yang:
Mencerminkan tahap proses: dari input awal oleh SDM, review oleh Keuangan, hingga finalisasi.
Membantu semua pihak (SDM dan Keuangan) mengetahui posisi data payroll dan apa saja perubahan yang sudah dilakukan serta dokumen pendukung yang terkait.
Contoh Kasus:
Misalnya, pada bulan Desember 2024, Guru A (yang saat itu berstatus “Guru Biasa”) tidak mendapatkan tunjangan wali kelas. Kemudian, di Januari 2025 Guru A mendapat promosi menjadi Wali Kelas 1 SD sehingga tunjangan wali kelas yang sebelumnya 0 berubah menjadi Rp 25.000.

Di Halaman SDM:

SDM masuk ke halaman Assign/Update Payhead dan mengubah nilai tunjangan untuk Guru A.
SDM harus mengunggah surat promosi sebagai bukti perubahan status dan memberikan keterangan bahwa perubahan tersebut adalah akibat promosi.
Data diubah dan disimpan dalam status draft/revisi.
Di Halaman Review Keuangan:

Keuangan kemudian membuka halaman review dan melihat perubahan data Guru A, lengkap dengan dokumen pendukung dan keterangan (misalnya, “Promosi ke Wali Kelas 1 SD – Lampiran surat promosi”).
Setelah verifikasi, Keuangan dapat menyetujui payroll untuk periode tersebut. Jika disetujui, payroll akan diproses secara final.
Jika ada kekurangan, Keuangan dapat menolak dan mengembalikan ke SDM untuk diperbaiki.
Proses Finalisasi:

Ketika payroll disetujui, seluruh proses penyimpanan (insert data ke tabel payroll dan payroll_detail) dijalankan dalam transaksi untuk menjaga konsistensi data.
Kesimpulan:
Dengan membagi proses menjadi beberapa halaman seperti di atas, kita mendapatkan keuntungan:

Pemrosesan yang Lebih Terstruktur:
SDM bertanggung jawab atas input dan penyesuaian data payroll serta mengunggah dokumen pendukung. Sedangkan Keuangan hanya fokus pada review dan persetujuan final.

Transparansi Data:
Setiap perubahan nilai komponen (misalnya, tunjangan) disertai dengan keterangan dan bukti lampiran yang dapat diakses oleh pihak Keuangan. Ini memudahkan audit dan penelusuran perubahan data.

Kepastian Hukum dan Audit:
Dengan adanya status payroll (draft, revisi, final) serta pencatatan audit log, setiap perubahan tercatat dengan jelas dan proses finalisasi payroll menjadi lebih transparan.

Konsistensi Data:
Penggunaan transaksi database pada proses final payroll memastikan bahwa data yang disimpan konsisten dan dapat diandalkan.

Jadi, jawabannya adalah ya—Anda dapat (dan bahkan disarankan untuk) membedah proses payroll dan review menjadi beberapa halaman dengan fungsi yang spesifik. Hal ini akan membantu memisahkan tanggung jawab antara SDM (yang menangani penyesuaian dan penginputan data beserta dokumen pendukung) dan Keuangan (yang hanya melakukan review akhir dan persetujuan). Langkah ini akan memberikan transparansi dan efisiensi yang lebih tinggi dalam pengelolaan payroll.

Apakah penjelasan dan usulan struktur ini sudah sesuai dengan apa yang Anda bayangkan? Jika ada hal yang ingin didiskusikan atau dikembangkan lebih lanjut, silakan diinformasikan!